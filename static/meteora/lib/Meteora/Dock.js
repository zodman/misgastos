
var Dock=new Class({'Implements':[Control],'items':{},'initialize':function(){this.__buildComponents();this.autoHide();},'__buildComponents':function(){this.element=Widget.div({'class':'m-dock'});document.body.appendChild(this.element);},'addItem':function(title,callback){var button=Widget.button({'class':'m-form-button','type':'button'},Widget.fromHTML(title));this.element.appendChild(button);button.addEvent('mouseup',this.removeItem.bind(this,button));button.addEvent('mouseup',callback);this.autoHide();},'show':function(){this.element.show();this.element.setOnTop();},'hide':function(){this.element.hide();},'autoHide':function(){if(this.buttonCount()>0){this.show();}else{this.hide();}},'buttonCount':function(){var buttons=0;for(var i=0;i<this.element.childNodes.length;i++){var el=this.element.childNodes[i];if($type(el)=='element'&&el.nodeName.toLowerCase()=='button'){buttons++;}}
return buttons;},'removeItem':function(item){item.dump();this.autoHide();}});